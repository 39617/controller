<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Controller: E:/ISEL Projects/controller/contiki_multiple_interface/platform/jn516x/README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Controller
   </div>
   <div id="projectbrief">IOT Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">E:/ISEL Projects/controller/contiki_multiple_interface/platform/jn516x/README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="platform_2jn516x_2README_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# NXP JN516x platform</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;## Overview</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;The JN516x series is a range of ultra low power, high performance wireless microcontrollers from NXP. They feature an enhanced 32-bit RISC processor (256kB/32kB/4kB Flash/RAM/EEPROM for JN5168), and also include a 2.4GHz IEEE802.15.4-compliant transceiver.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;These system on chip (SoC) devices have the following main [features][jn516x-datasheet]:</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;* 32-bit RISC CPU (Beyond Architecture -- BA), 1 to 32MHz clock speed</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;* 2.4GHz IEEE802.15.4-compliant transceiver</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;* 128-bit AES security processor</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;* MAC accelerator with packet formatting, CRCs, address check, auto-acks, timers</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;* Transmit power 2.5dBm</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;* Receiver sensitivity -95dBm</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;* RX current 17mA, TX 15mA</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;* Integrated ultra low power sleep oscillator – 0.6μA</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;* Deep sleep current 0.12μA (Wake-up from IO)</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;* Time of Flight engine for ranging</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;* Antenna Diversity (Auto RX)</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;* 2.0V to 3.6V battery operation</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;* Supply voltage monitor with 8 programmable thresholds</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;* Built-in battery and temperature sensors</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;* Infra-red remote control transmitter</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;* Peripherals: I2C, SPI, 2x UART, 4-input 10-bit ADC, comparator, 5x PWM</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;## Maintainers and Contact</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;Long-term maintainers:</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;* Chris Gray, NXP, christopher.gray@nxp.com, github user: [NxpChrisGray](https://github.com/NxpChrisGray)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;* Simon Duquennoy, SICS, simonduq@sics.se, github user: [simonduq](https://github.com/simonduq)</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;Other contributors:</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;* Beshr Al Nahas, SICS (now Chalmers University), beshr@chalmers.se, github user: [beshrns](https://github.com/beshrns)</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;* Atis Elsts, SICS, atis.elsts@sics.se, github user: [atiselsts](https://github.com/atiselsts)</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;## License</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;All files are under BSD license, as described by the copyright statement in every source file.</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;## Port Features</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;The following features have been implemented:</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  * A radio driver with two modes (polling and interrupt based)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  * CCM* driver with HW accelerated AES</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  * UART driver (with HW and SW flow control, 1&#39;000&#39;000 baudrate by default)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  * Contiki tickless clock</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  * Contiki rtimers based on either</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    * the 32 kHz external oscillator</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    * or the internal 32 MHz oscillator (which gives a 16 MHz rtimer)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  * CPU low-power mdoes</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    * doze mode: shallow sleep, 32 MHz oscillator (source of rtimer and radio clock) keeps running</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    * sleep mode: deeper sleep, 32 MHz oscillator turned off, next wakeup set on 32 kHz oscillator</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  * Periodic DCO recalibration</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  * HW random number generator used as a random seed for pseudo-random generator</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  * Watchdog, JN516x HW exception handlers</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;The following hardware platforms have been tested:</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  * DR1174 evaluation board (with a button sensor)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  * DR1175 sensor board (with humidity/temperature and light sensors)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  * DR1199 sensor board (with potentiometer and button sensors)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  * USB dongle</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;## TODO list</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;The following features are planned:</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  * Time-accurate radio primitives (&quot;send at&quot;, &quot;listen until&quot;)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  * External storage</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;## Requirements</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;To start using JN516x with Contiki, the following are required:</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; * The toolchain and Software Development Kit to compile Contiki for JN516x</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; * Drivers so that your OS can communicate with your hardware</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; * Software to upload images to the JN516x</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;### Install a Toolchain</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;The toolchain used to build Contiki for JN516x is `ba-elf-gcc`.</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;The compiler as well as the binary libraries required to link the executables can be downloaded from NXP. To express your interest in obtaining them, go to [NXP 802.15.4 software page][NXP-802.15.4-software], select &quot;JN-SW-4163&quot;, and contact the NXP support through the web form. The download link is then obtained via e-mail (allow 1+ working day for a reply).</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;The example applications in this port have been tested with compiler version `gcc-4.7.4-ba-r36379`.</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;Linux and Windows instructions:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;* On Linux: A compiled version for linux 64-bit is available: download [this](http://simonduq.github.io/resources/ba-elf-gcc-4.7.4-part1.tar.bz2) and [this](http://simonduq.github.io/resources/ba-elf-gcc-4.7.4-part2.tar.bz2) file, extract both in `/usr/ba-elf-gcc` such and add `/usr/ba-elf-gcc/bin` to your `$PATH` environment variable. Place the JN516x SDK under `/usr/jn516x-sdk`.</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;* On Windows: Run the setup program and select `C:/NXP/bstudio_nxp/` as install directory. Also make sure your PATH environment variable points to the compiler binaries (by default in `C:/NXP/bstudio_nxp/sdk/Tools/ba-elf-ba2-r36379/bin`).</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;### Drivers</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;The JN516x platforms feature FTDI serial-to-USB modules. The driver is commonly found in most OS, but if required it can be downloaded from &lt;http://www.ftdichip.com/Drivers/VCP.htm&gt;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;### Device Enumerations</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;For the UART, serial line settings are 1000000 8N1, no flow control.</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;Once all drivers have been installed correctly:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;* On Windows, devices will appear as a virtual COM port.</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;* On Linux and OS X, devices will appear as `/dev/tty*`.</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;### Software to Program the Nodes</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;The JN516x can be programmed via the serial boot loader on the chip.</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;* On Linux, nodes can be programmed via the serial boot loader using the [JennicModuleProgrammer] tool. It is pre-installed under `tools/jn516x/JennicModuleProgrammer`.</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;* On Windows, nodes are programmed using NXP&#39;s Flash Programmer. There are two versions of it: GUI and command line. The Contiki make system is configured to use the command line version. By default it looks for the programmer in the SDK base directory under `Tools/flashprogrammer/FlashCLI.exe`. With the default SDK installation path the file should be located under `C:/NXP/bstudio_nxp/sdk/JN-SW-4163/Tools/flashprogrammer/FlashCLI.exe`. Modify `platforms/jn516x/Makefile.common` to change this default location.</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;## Using the Port</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;The following examples are intended to work off-the-shelf:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;* Platform-specific examples under `examples/jn516x`</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;* All platform-independent Contiki application examples</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;### Building an example</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;To build the classic &quot;hello world&quot; example, navigate to `examples/hello-world`. It is recommended to either set the `TARGET` environmental variable or to save the `jn516x` platform as the default make target. To do that, run:</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;`make TARGET=jn516x savetarget`</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;Then run `make hello-world` to compile the application for JN516x platform.</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;### Uploading an example</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;Run the `upload` command to program the binary image on it:</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;`make hello-world.upload MOTE=0`</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;The `MOTE` argument is used to specify to which of the ports the device is connected. For example, if there is a single mote connected to `/dev/ttyUSB3` in Linux (or, alternatively, `COM3` in Windows), the right command would be:</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;`make hello-world.upload MOTE=3`</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;Note that on Windows, the FTDI drivers are able to switch the board to programming mode before uploading the image.</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;On Linux, the drivers are not able to do so yet. We use a modified bootloader for JN516x, where nodes wait 5s in programming mode after a reset. You simply need to reset them before using `make upload`. The modified bootloader can be downloaded [here](http://simonduq.github.io/resources/BootLoader_JN5168.ba2.bin) and installed using a JTAG programmer, or alternatively, [this image](http://simonduq.github.io/resources/BootLoaderUpdater_JN5168.bin) can be installed as a normal application using the normal Windows tools.  Once the device resets, this application will run and will then install the new boot loader. It generates some status output over UART0 at 115200 baud during this process. **Warning**: use the images above at your risk; NXP does not accept responsibility for any devices that are rendered unusable as a result of using it.</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;### Listening to output</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;Run the `login` command to start the `serialdump` application.</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;`make login MOTE=3`</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;On Linux: after the application has started, press the reset button on the node.</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;### Platform-specific make targets</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;* `&lt;application&gt;.flash` - flash the (pre-compiled) application to a JN516x mote (specified via the `MOTE` variable)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;* `&lt;application&gt;.flashall` - flash the (pre-compiled) application to all all connected JN516x motes</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;* `&lt;application&gt;.upload` - compile and flash the application to a JN516x mote (specified via the `MOTE` variable)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;* `&lt;application&gt;.uploadall` - compile and flash the application to all all connected JN516x motes</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;* `login`, `serialview`, `serialdump` - dump serial port output from a JN516x mote (specified via the `MOTE` variable)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;* `serialdumpall` - dump serial port output from all connected JN516x motes</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;* `motelist` - list all connected JN516x motes.</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;* `motelistmac` - list MAC addresses of all connected JN516x motes (Note: not implemented on Linux!)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;* `motelistinfo` - list info about all connected JN516x motes (Note: very limited functionality on Linux!)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;*Troubleshooting:* you need a working Python installation for these commands to work. On Windows, make sure Python executable is in your `PATH`.</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;### Compiling for different MCUs and boards</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;The platforms can selected by using `Makefile` variables.</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;The following MCU models are supported:</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;* `JN5164` - 160kB/32kB/4kB Flash/RAM/EEPROM</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;* `JN5168` - 256kB/32kB/4kB Flash/RAM/EEPROM (default MCU)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;* `JN5169` - 512kB/32kB/4kB Flash/RAM/EEPROM</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;Set `CHIP` variable to change this; for example, to select JN5164 use:</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;`make CHIP=JN5164`</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;The JN5168 has four module variants available:</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;* `M00` - Standard power, integrated antenna (default module)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;* `M03` - Standard power, uFL connector</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;* `M05` - Medium power, uFL connector</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;* `M06` - High power, uFL connector</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;The `M05` and `M06` need to control the internal power amplifier. Set the `MODULE` variable to select the module, for example:</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;`make CHIP=JN5168 MODULE=M05`</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;The following platform-specific configurations are supported:</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;* DR1174 evaluation kit; enable this with `JN516x_WITH_DR1174 = 1` in your makefile</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;* DR1174 with DR1175 sensor board; enable this with `JN516x_WITH_DR1175 = 1` (will set `JN516x_WITH_DR1174` automatically)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;* DR1174 with DR1199 sensor board; enable this with `JN516x_WITH_DR1199 = 1` (will set `JN516x_WITH_DR1174` automatically)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;* USB dongle; enable this with `JN516x_WITH_DONGLE = 1`</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;### Enabling specific hardware features</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;The JN516X Contiki platform supports sleep mode (with RAM retention and keeping the external oscillator on). To enable sleeping, configure `JN516X_SLEEP_CONF_ENABLED=1`.</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;Sleeping will only happen if there at least 50 ms until the next rtimer or etimer. Also, the system will wake up ~10 ms before the next timer should fire in order to reinitialize all hardware peripherals.</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;The JN516X Contiki platform also supports rtimers at two different speeds: 16 MHz and 32 kHz. By default, the high-speed timer is used. The two timers have similar expected accuracy (drift ppm), but the 16 MHz one has higher precision. However, the low-speed timers are also kept running during sleeping. </div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;To enable the low-frequency timer option, set `RTIMER_USE_32KHZ=1`. An external crystal oscillator is required to achieve reasonable accuracy in this case. This oscilator is present on most platforms, and is enabled automatically if either 32kHz timers or sleeping are enabled.</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;### Node IEEE/RIME/IPv6 Addresses</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;Nodes will autoconfigure their IPv6 address based on their 64-bit IEEE/MAC address. The 64-bit MAC address is read directly from JN516x System on Chip.</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;The 16-bit RIME address and the Node ID are set from the last 16-bits of the 64-bit MAC address.</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;## Additional documentation</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;1. [Data Sheet: JN516x IEEE802.15.4 Wireless Microcontroller][jn516x-datasheet]</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;2. [JN516x web page][jn516x-web]</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;3. [JN5168 web page][jn5168-web]</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;4. [JN516x user manuals][user-manuals]</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;[jn516x-datasheet]: http://www.nxp.com/documents/data_sheet/JN516X.pdf</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;[jn516x-web]: http://www.nxp.com/products/microcontrollers/product_series/jn516x</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;[jn5168-web]: http://www.nxp.com/products/microcontrollers/product_series/jn516x/JN5168.html</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;[user-manuals]: http://www.nxp.com/technical-support-portal/#/tid=1,sid=,bt=,tab=usermanuals,p=1,rpp=,sc=,so=,jump=</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;[NXP-802.15.4-software]: http://www.nxp.com/techzones/wireless-connectivity/ieee802-15-4.html</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;[JennicModuleProgrammer]: https://github.com/WRTIOT/JennicModuleProgrammer</div></div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 10 2017 20:13:49 for Controller by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
